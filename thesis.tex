\documentclass[a4paper, twoside]{report}

\usepackage[T1]{fontenc}
\usepackage[margin=4.4cm, top=1.8cm, bottom=1.8cm, marginparwidth=3.5cm]{geometry}
\usepackage{amsmath}
\usepackage{siunitx}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage[all]{hypcap} % ref link aligned to float top (KEEP AFTER HYPERREF!)
\usepackage[font={sf}]{caption} % sans font in captions
\usepackage{fancyhdr}
\usepackage[style=alphabetic]{biblatex}
\usepackage{booktabs}

\addbibresource{thesis.bib}

\graphicspath{{figures/}}

\sisetup{%
    detect-all, % for units, use the font of the text where they appear
    table-number-alignment=center, % the S columns of tabular are center-aligned
}

\let\oldmarginpar\marginpar
\renewcommand\marginpar[1]{\oldmarginpar{\sffamily\scriptsize #1}}

% caption command
% usage: \scriptcaption{label prefix}{script prefix}{label}{caption}
% the command will define the label and append a link to the python script
% on github
\newcommand\repofileurl{https://github.com/Gattocrucco/sipmfilter/blob/master}
\newcommand\scriptcaption[4]{
    \caption{
        \label{#1:#3} #4
        \texttt{(\href{\repofileurl/figthesis/#2#3.py}{#2#3.py})}
    }
}
\newcommand\figcaption[2]{\scriptcaption{fig}{fig}{#1}{#2}}
\newcommand\tabcaption[2]{\scriptcaption{tab}{fig}{#1}{#2}}

\author{Giacomo Petrillo\\University of Pisa}

\title{Thesis draft:\\Online processing of the large area SiPM detector signals
for the DarkSide20k experiment}

\begin{document}
    
    \pagestyle{fancyplain}
    \renewcommand\headrulewidth{0pt}
    
    \fancyhf{}
    \newcommand\pagenumbermargin{2.5cm}
    \fancyfoot[LO]{~\hspace{\textwidth}\hspace{\pagenumbermargin}\thepage}
    \fancyfoot[LE]{~\hspace{-\pagenumbermargin}\hspace{-2ex}\thepage}
    
    \setlength\footskip{0cm}
    
    \maketitle
        
    \tableofcontents
    
    \include{intro}
    \include{darkmat}
    \include{darkside}
    \include{data}
    \include{snr}
    \include{timeres}
    \include{rate}
    \include{anal}
    \include{end}
    
    \printbibliography
    
\end{document}
